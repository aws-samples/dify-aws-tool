app:
  description: simple-kimi
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: simple-kimi
  use_icon_as_answer_icon: false
kind: app
version: 0.1.3
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      - document
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 1
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: llm-source-answer-target
      selected: false
      source: llm
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1727437551868-source-1727437724068-target
      source: '1727437551868'
      sourceHandle: source
      target: '1727437724068'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1727437724068-source-1727437739002-target
      source: '1727437724068'
      sourceHandle: source
      target: '1727437739002'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: template-transform
      id: 1727437739002-source-1727438089651-target
      source: '1727437739002'
      sourceHandle: source
      target: '1727438089651'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1727438265117-source-1727438331868-target
      source: '1727438265117'
      sourceHandle: source
      target: '1727438331868'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1727438331868-source-1727438349664-target
      source: '1727438331868'
      sourceHandle: source
      target: '1727438349664'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: template-transform
      id: 1727438349664-source-1727438463965-target
      source: '1727438349664'
      sourceHandle: source
      target: '1727438463965'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1727438962981-source-1727439130548-target
      source: '1727438962981'
      sourceHandle: source
      target: '1727439130548'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 17274404793180-source-17274405419030-target
      source: '17274404793180'
      sourceHandle: source
      target: '17274405419030'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 17274405419030-source-17274405777680-target
      source: '17274405419030'
      sourceHandle: source
      target: '17274405777680'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: template-transform
      id: 17274405777680-source-17274406200850-target
      source: '17274405777680'
      sourceHandle: source
      target: '17274406200850'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 17274407417220-source-17274407666060-target
      source: '17274407417220'
      sourceHandle: source
      target: '17274407666060'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 17274407666060-source-17274408191900-target
      source: '17274407666060'
      sourceHandle: source
      target: '17274408191900'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: template-transform
      id: 17274408191900-source-17274408457890-target
      source: '17274408191900'
      sourceHandle: source
      target: '17274408457890'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: document-extractor
        targetType: template-transform
      id: 1729777092216-source-1729777162616-target
      source: '1729777092216'
      sourceHandle: source
      target: '1729777162616'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: llm
      id: 1729777162616-source-llm-target
      selected: false
      source: '1729777162616'
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1727357893396-true-1729777900959-target
      source: '1727357893396'
      sourceHandle: 'true'
      target: '1729777900959'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1729778442989-source-1729778610477-target
      source: '1729778442989'
      sourceHandle: source
      target: '1729778610477'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1729778654959-source-1729778683728-target
      source: '1729778654959'
      sourceHandle: source
      target: '1729778683728'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: if-else
      id: 1727357893396-a924b44a-824a-4912-924e-268e87240447-1729781189640-target
      source: '1727357893396'
      sourceHandle: a924b44a-824a-4912-924e-268e87240447
      target: '1729781189640'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1727357893396-false-1730860337573-target
      source: '1727357893396'
      sourceHandle: 'false'
      target: '1730860337573'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: start
        targetType: if-else
      id: 1726108148263-source-1727357893396-target
      source: '1726108148263'
      sourceHandle: source
      target: '1727357893396'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: 1730860337573-source-1730860548544-target
      source: '1730860337573'
      sourceHandle: source
      target: '1730860548544'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1730860548544-true-1729777900959-target
      source: '1730860548544'
      sourceHandle: 'true'
      target: '1729777900959'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: if-else
      id: 1730860548544-false-1729781189640-target
      source: '1730860548544'
      sourceHandle: 'false'
      target: '1729781189640'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: tool
      id: 1729777900959-source-1731030018613-target
      source: '1729777900959'
      sourceHandle: source
      target: '1731030018613'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1731030018613-source-1727437551868-target
      source: '1731030018613'
      sourceHandle: source
      target: '1727437551868'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1731030018613-source-1727438265117-target
      source: '1731030018613'
      sourceHandle: source
      target: '1727438265117'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1731030018613-source-17274404793180-target
      source: '1731030018613'
      sourceHandle: source
      target: '17274404793180'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1731030018613-source-17274407417220-target
      source: '1731030018613'
      sourceHandle: source
      target: '17274407417220'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: llm
      id: 1727438089651-source-1727438962981-target
      source: '1727438089651'
      sourceHandle: source
      target: '1727438962981'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: llm
      id: 1727438463965-source-1727438962981-target
      source: '1727438463965'
      sourceHandle: source
      target: '1727438962981'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: llm
      id: 17274406200850-source-1727438962981-target
      source: '17274406200850'
      sourceHandle: source
      target: '1727438962981'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: llm
      id: 17274408457890-source-1727438962981-target
      source: '17274408457890'
      sourceHandle: source
      target: '1727438962981'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: list-operator
      id: 1729781189640-true-1731377053023-target
      source: '1729781189640'
      sourceHandle: 'true'
      target: '1731377053023'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: list-operator
        targetType: llm
      id: 1731377053023-source-1729778654959-target
      source: '1731377053023'
      sourceHandle: source
      target: '1729778654959'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: list-operator
      id: 1729781189640-ddf6ba30-c72f-4f06-b783-af77419acf30-1731377116920-target
      source: '1729781189640'
      sourceHandle: ddf6ba30-c72f-4f06-b783-af77419acf30
      target: '1731377116920'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: list-operator
        targetType: llm
      id: 1731377116920-source-1729778442989-target
      source: '1731377116920'
      sourceHandle: source
      target: '1729778442989'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: list-operator
      id: 1729781189640-5ff411e5-2162-41de-80de-b51902a2380f-1731377168392-target
      source: '1729781189640'
      sourceHandle: 5ff411e5-2162-41de-80de-b51902a2380f
      target: '1731377168392'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: list-operator
        targetType: document-extractor
      id: 1731377168392-source-1729777092216-target
      source: '1731377168392'
      sourceHandle: source
      target: '1729777092216'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: webæœç´¢
          max_length: 48
          options:
          - å¼€å¯
          - å…³é—­
          required: false
          type: select
          variable: web_search
        - label: è§’è‰²å®šä¹‰
          max_length: 1024
          options: []
          required: false
          type: paragraph
          variable: role_def
      height: 114
      id: '1726108148263'
      position:
        x: 30
        y: 286.5
      positionAbsolute:
        x: 30
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#1729777092216.text#}}


            {{#sys.query#}}

            '
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 5
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: anthropic.claude-3-5-sonnet-20240620-v1:0
          provider: bedrock
        prompt_template:
        - id: 44bec0ca-86b2-434d-bf4e-64f3ecbf27a3
          role: system
          text: '{{#1726108148263.role_def#}}, ç»“åˆä¸Šé¢æ–‡æ¡£å†…å®¹å›ç­”é—®é¢˜'
        selected: false
        title: LLM 10
        type: llm
        variables: []
        vision:
          configs:
            detail: high
            variable_selector:
            - '1729777695485'
            - result
          enabled: false
      height: 96
      id: llm
      position:
        x: 2462
        y: 1153.5
      positionAbsolute:
        x: 2462
        y: 1153.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#llm.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 101
      id: answer
      position:
        x: 2766
        y: 1151.5
      positionAbsolute:
        x: 2766
        y: 1151.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 4ba6856a-715c-4cdb-a815-6a06950322e5
            value: å¼€å¯
            varType: string
            variable_selector:
            - '1726108148263'
            - web_search
          id: 'true'
          logical_operator: and
        - case_id: a924b44a-824a-4912-924e-268e87240447
          conditions:
          - comparison_operator: contains
            id: 0199f62e-073d-4bc0-a905-398775ffde75
            value: å…³é—­
            varType: string
            variable_selector:
            - '1726108148263'
            - web_search
          id: a924b44a-824a-4912-924e-268e87240447
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 172
      id: '1727357893396'
      position:
        x: 334
        y: 286.5
      positionAbsolute:
        x: 334
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "\ndef main(search_results) -> dict:\n    return {\n        \"title\"\
          \ : search_results[0]['organic_results'][0].get('title'),\n        \"url\"\
          : search_results[0]['organic_results'][0].get('link'),\n        \"snippet\"\
          \ : search_results[0]['organic_results'][0].get('snippet')\n    }"
        code_language: python3
        desc: ''
        outputs:
          snippet:
            children: null
            type: string
          title:
            children: null
            type: string
          url:
            children: null
            type: string
        selected: false
        title: search_1
        type: code
        variables:
        - value_selector:
          - '1731030018613'
          - json
          variable: search_results
      height: 52
      id: '1727437551868'
      position:
        x: 1854
        y: 286.5
      positionAbsolute:
        x: 1854
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        provider_id: webscraper
        provider_name: webscraper
        provider_type: builtin
        selected: false
        title: ç½‘é¡µçˆ¬è™«
        tool_configurations:
          generate_summary: null
          user_agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
            (KHTML, like Gecko) Chrome/100.0.1000.0 Safari/537.36
        tool_label: ç½‘é¡µçˆ¬è™«
        tool_name: webscraper
        tool_parameters:
          url:
            type: mixed
            value: '{{#1727437551868.url#}}'
        type: tool
      height: 114
      id: '1727437724068'
      position:
        x: 2158
        y: 286.5
      positionAbsolute:
        x: 2158
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "\ndef main(crawl_result) -> str:\n    idx = crawl_result.find(\"TEXT:\\\
          n\\n\")\n    start_idx = idx + len(\"TEXT:\\n\\n\")\n    return {\n    \
          \    \"result\" : crawl_result[start_idx:8192]\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: post_1
        type: code
        variables:
        - value_selector:
          - '1727437724068'
          - text
          variable: crawl_result
      height: 52
      id: '1727437739002'
      position:
        x: 2462
        y: 286.5
      positionAbsolute:
        x: 2462
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        selected: false
        template: "{\n    \"Title\" : {{ title }},\n    \"URL\" : {{ url }},\n   \
          \ \"snippet\" : {{ snippet }},\n    \"content\" : {{ content }}\n}"
        title: æ¨¡æ¿è½¬æ¢ 1
        type: template-transform
        variables:
        - value_selector:
          - '1727437739002'
          - result
          variable: content
        - value_selector:
          - '1727437551868'
          - url
          variable: url
        - value_selector:
          - '1727437551868'
          - snippet
          variable: title
        - value_selector:
          - '1727437551868'
          - snippet
          variable: snippet
      height: 52
      id: '1727438089651'
      position:
        x: 2766
        y: 286.5
      positionAbsolute:
        x: 2766
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "\ndef main(search_results) -> dict:\n    return {\n        \"title\"\
          \ : search_results[0]['organic_results'][1].get('title'),\n        \"url\"\
          : search_results[0]['organic_results'][1].get('link'),\n        \"snippet\"\
          \ : search_results[0]['organic_results'][1].get('snippet'),\n    }"
        code_language: python3
        desc: ''
        outputs:
          snippet:
            children: null
            type: string
          title:
            children: null
            type: string
          url:
            children: null
            type: string
        selected: false
        title: search_2
        type: code
        variables:
        - value_selector:
          - '1731030018613'
          - json
          variable: search_results
      height: 52
      id: '1727438265117'
      position:
        x: 1854
        y: 441.5
      positionAbsolute:
        x: 1854
        y: 441.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        provider_id: webscraper
        provider_name: webscraper
        provider_type: builtin
        selected: false
        title: ç½‘é¡µçˆ¬è™«
        tool_configurations:
          generate_summary: null
          user_agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
            (KHTML, like Gecko) Chrome/100.0.1000.0 Safari/537.36
        tool_label: ç½‘é¡µçˆ¬è™«
        tool_name: webscraper
        tool_parameters:
          url:
            type: mixed
            value: '{{#1727438265117.url#}}'
        type: tool
      height: 114
      id: '1727438331868'
      position:
        x: 2158
        y: 441.5
      positionAbsolute:
        x: 2158
        y: 441.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "\ndef main(crawl_result) -> str:\n    idx = crawl_result.find(\"TEXT:\\\
          n\\n\")\n    start_idx = idx + len(\"TEXT:\\n\\n\")\n    return {\n    \
          \    \"result\" : crawl_result[start_idx:8192]\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: POST 2
        type: code
        variables:
        - value_selector:
          - '1727438331868'
          - text
          variable: crawl_result
      height: 52
      id: '1727438349664'
      position:
        x: 2462
        y: 441.5
      positionAbsolute:
        x: 2462
        y: 441.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        selected: false
        template: "{\n    \"Title\" : {{ title }},\n    \"URL\" : {{ url }},\n   \
          \ \"snippet\" : {{ snippet }},\n    \"content\" : {{ content }}\n}"
        title: æ¨¡æ¿è½¬æ¢ 2
        type: template-transform
        variables:
        - value_selector:
          - '1727438265117'
          - snippet
          variable: title
        - value_selector:
          - '1727438265117'
          - url
          variable: url
        - value_selector:
          - '1727438349664'
          - result
          variable: content
        - value_selector:
          - '1727438265117'
          - snippet
          variable: snippet
      height: 52
      id: '1727438463965'
      position:
        x: 2766
        y: 441.5
      positionAbsolute:
        x: 2766
        y: 441.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '<search_result>

            [

            {{#1727438089651.output#}},

            {{#1727438463965.output#}},

            {{#17274406200850.output#}},

            {{#17274408457890.output#}}

            ]

            </search_result>


            ## Answer Format Example

            $PLACEHOLDER_ANSWER$


            å‚è€ƒé“¾æ¥ï¼š

            1.  [Title](URL)

            2. [Title](URL)

            ...


            ## Requirementï¼š

            1. æœ‰äº›å€™é€‰ç­”æ¡ˆå¯èƒ½ç”±äºç½‘é¡µ403æ— æ³•è·å–çš„åŸå› ï¼Œæ— æ³•ç›´æ¥å›ç­”ï¼Œ å¿½ç•¥è¿™äº›å³å¯ã€‚

            2. ç›´æ¥ç»™å‡ºå›ç­”ï¼Œä¸ç”¨é€éœ²ä½ ç»¼åˆäº†å¤šä¸ªç­”æ¡ˆã€‚

            3. å¦‚æœé‡‡ç”¨äº†æŸæœç´¢ç»“æœçš„å†…å®¹ï¼Œåœ¨Refernceéƒ¨åˆ†æŒ‰ç…§åºå·ï¼ŒæŒ‰ç…§åºå·è¾“å‡ºè¿™ä¸ªURLï¼Œä»¥markdownçš„æ ¼å¼ï¼Œå¦‚[title](url)ã€‚

            4. å¦‚æœæœç´¢ç»“æœä¸­çš„Titleè¿‡äºå†—é•¿ï¼Œç›´æ¥è¾“å‡ºURLä¹Ÿå¯ä»¥


            {{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 5
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: anthropic.claude-3-5-sonnet-20240620-v1:0
          provider: bedrock
        prompt_template:
        - id: 21458af2-ffc5-4488-9470-3a4ad579b1ce
          role: system
          text: '{{#1726108148263.role_def#}}ï¼Œè¯·å‚è€ƒæä¾›æœç´¢çš„å†…å®¹å›ç­”é—®é¢˜'
        selected: false
        title: LLM_Final
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 96
      id: '1727438962981'
      position:
        x: 3232.5714285714284
        y: 510.07142857142856
      positionAbsolute:
        x: 3232.5714285714284
        y: 510.07142857142856
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#1727438962981.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 2
        type: answer
        variables: []
      height: 101
      id: '1727439130548'
      position:
        x: 3570.8571428571427
        y: 510.07142857142856
      positionAbsolute:
        x: 3570.8571428571427
        y: 510.07142857142856
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "\ndef main(search_results) -> dict:\n    return {\n        \"title\"\
          \ : search_results[0]['organic_results'][2].get('title'),\n        \"url\"\
          : search_results[0]['organic_results'][2].get('link'),\n        \"snippet\"\
          \ : search_results[0]['organic_results'][2].get('snippet')\n    }"
        code_language: python3
        desc: ''
        outputs:
          snippet:
            children: null
            type: string
          title:
            children: null
            type: string
          url:
            children: null
            type: string
        selected: false
        title: search_3
        type: code
        variables:
        - value_selector:
          - '1731030018613'
          - json
          variable: search_results
      height: 52
      id: '17274404793180'
      position:
        x: 1854
        y: 596.5
      positionAbsolute:
        x: 1854
        y: 596.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        provider_id: webscraper
        provider_name: webscraper
        provider_type: builtin
        selected: false
        title: ç½‘é¡µçˆ¬è™«
        tool_configurations:
          generate_summary: null
          user_agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
            (KHTML, like Gecko) Chrome/100.0.1000.0 Safari/537.36
        tool_label: ç½‘é¡µçˆ¬è™«
        tool_name: webscraper
        tool_parameters:
          url:
            type: mixed
            value: '{{#17274404793180.url#}}'
        type: tool
      height: 114
      id: '17274405419030'
      position:
        x: 2158
        y: 596.5
      positionAbsolute:
        x: 2158
        y: 596.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "\ndef main(crawl_result) -> str:\n    idx = crawl_result.find(\"TEXT:\\\
          n\\n\")\n    start_idx = idx + len(\"TEXT:\\n\\n\")\n    return {\n    \
          \    \"result\" : crawl_result[start_idx:8192]\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: POST_3
        type: code
        variables:
        - value_selector:
          - '17274405419030'
          - text
          variable: crawl_result
      height: 52
      id: '17274405777680'
      position:
        x: 2462
        y: 596.5
      positionAbsolute:
        x: 2462
        y: 596.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        selected: false
        template: "{\n    \"Title\" : {{ title }},\n    \"URL\" : {{ url }},\n   \
          \ \"snippet\" : {{ snippet }},\n    \"content\" : {{ content }}\n}"
        title: æ¨¡æ¿è½¬æ¢ 3
        type: template-transform
        variables:
        - value_selector:
          - '17274404793180'
          - snippet
          variable: title
        - value_selector:
          - '17274404793180'
          - url
          variable: url
        - value_selector:
          - '17274405777680'
          - result
          variable: content
        - value_selector:
          - '17274404793180'
          - snippet
          variable: snippet
      height: 52
      id: '17274406200850'
      position:
        x: 2766
        y: 596.5
      positionAbsolute:
        x: 2766
        y: 596.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "\ndef main(search_results) -> dict:\n    return {\n        \"title\"\
          \ : search_results[0]['organic_results'][3].get('title'),\n        \"url\"\
          : search_results[0]['organic_results'][3].get('link'),\n        \"snippet\"\
          \ : search_results[0]['organic_results'][3].get('snippet')\n    }"
        code_language: python3
        desc: ''
        outputs:
          snippet:
            children: null
            type: string
          title:
            children: null
            type: string
          url:
            children: null
            type: string
        selected: false
        title: search_4
        type: code
        variables:
        - value_selector:
          - '1731030018613'
          - json
          variable: search_results
      height: 52
      id: '17274407417220'
      position:
        x: 1854
        y: 751.5
      positionAbsolute:
        x: 1854
        y: 751.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        provider_id: webscraper
        provider_name: webscraper
        provider_type: builtin
        selected: false
        title: ç½‘é¡µçˆ¬è™«
        tool_configurations:
          generate_summary: null
          user_agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
            (KHTML, like Gecko) Chrome/100.0.1000.0 Safari/537.36
        tool_label: ç½‘é¡µçˆ¬è™«
        tool_name: webscraper
        tool_parameters:
          url:
            type: mixed
            value: '{{#17274407417220.url#}}'
        type: tool
      height: 114
      id: '17274407666060'
      position:
        x: 2158
        y: 751.5
      positionAbsolute:
        x: 2158
        y: 751.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "\ndef main(crawl_result) -> str:\n    idx = crawl_result.find(\"TEXT:\\\
          n\\n\")\n    start_idx = idx + len(\"TEXT:\\n\\n\")\n    return {\n    \
          \    \"result\" : crawl_result[start_idx:8192]\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: POST_4
        type: code
        variables:
        - value_selector:
          - '17274407666060'
          - text
          variable: crawl_result
      height: 52
      id: '17274408191900'
      position:
        x: 2462
        y: 751.5
      positionAbsolute:
        x: 2462
        y: 751.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        selected: false
        template: "{\n    \"Title\" : {{ title }},\n    \"URL\" : {{ url }},\n   \
          \ \"snippet\" : {{ snippet }},\n    \"content\" : {{ content }}\n}"
        title: æ¨¡æ¿è½¬æ¢ 4
        type: template-transform
        variables:
        - value_selector:
          - '17274407417220'
          - snippet
          variable: title
        - value_selector:
          - '17274407417220'
          - url
          variable: url
        - value_selector:
          - '17274408191900'
          - result
          variable: content
        - value_selector:
          - '17274407417220'
          - snippet
          variable: snippet
      height: 52
      id: '17274408457890'
      position:
        x: 2766
        y: 751.5
      positionAbsolute:
        x: 2766
        y: 751.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        is_array_file: false
        selected: false
        title: æ–‡æ¡£æå–å™¨
        type: document-extractor
        variable_selector:
        - '1731377168392'
        - first_record
      height: 92
      id: '1729777092216'
      position:
        x: 1854
        y: 1155.5
      positionAbsolute:
        x: 1854
        y: 1155.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        selected: false
        template: '{% for item in my_list %}

          <docs>

          <doc id="{{ loop.index }}">

          {{ item }}

          </doc>

          </docs>

          {% endfor %}'
        title: template
        type: template-transform
        variables:
        - value_selector:
          - '1729777092216'
          - text
          variable: my_list
      height: 52
      id: '1729777162616'
      position:
        x: 2158
        y: 1208.4216261554986
      positionAbsolute:
        x: 2158
        y: 1208.4216261554986
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: 'å¼€å§‹æœç´¢...


          '
        desc: ''
        selected: false
        title: intermediate_reply
        type: answer
        variables: []
      height: 98
      id: '1729777900959'
      position:
        x: 1246
        y: 286.5
      positionAbsolute:
        x: 1246
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: ''
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 5
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: anthropic.claude-3-5-sonnet-20241022-v2:0
          provider: bedrock
        prompt_template:
        - id: 716255c3-9cca-4fd7-943d-bcb8946c3aca
          role: system
          text: '{{#1726108148263.role_def#}}'
        selected: false
        title: LLM 9
        type: llm
        variables: []
        vision:
          configs:
            detail: high
            variable_selector:
            - '1731377116920'
            - result
          enabled: true
      height: 96
      id: '1729778442989'
      position:
        x: 1854
        y: 1018.5
      positionAbsolute:
        x: 1854
        y: 1018.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#1729778442989.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 4
        type: answer
        variables: []
      height: 101
      id: '1729778610477'
      position:
        x: 2158
        y: 1047.5
      positionAbsolute:
        x: 2158
        y: 1047.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: ''
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 5
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: anthropic.claude-3-5-sonnet-20241022-v2:0
          provider: bedrock
        prompt_template:
        - id: deeb4fd7-f7da-48bd-a1f7-e0efc6a59888
          role: system
          text: '{{#1726108148263.role_def#}}'
        selected: false
        title: LLM 8
        type: llm
        variables: []
        vision:
          enabled: false
      height: 96
      id: '1729778654959'
      position:
        x: 1854
        y: 877.5
      positionAbsolute:
        x: 1854
        y: 877.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#1729778654959.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 5
        type: answer
        variables: []
      height: 101
      id: '1729778683728'
      position:
        x: 2158
        y: 906.5
      positionAbsolute:
        x: 2158
        y: 906.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: empty
            id: 738a2218-18af-480a-8201-1f51d5a4bfdb
            value: ''
            varType: array[file]
            variable_selector:
            - sys
            - files
          id: 'true'
          logical_operator: and
        - case_id: ddf6ba30-c72f-4f06-b783-af77419acf30
          conditions:
          - comparison_operator: contains
            id: ca5005a5-ed74-4867-9a1d-722b2ba71375
            sub_variable_condition:
              case_id: e1030080-d7c9-40d0-941e-0cd30bf90649
              conditions:
              - comparison_operator: in
                id: f4fe6e5b-c2bf-42d3-8d75-5f83939486e0
                key: type
                value:
                - image
                varType: string
              logical_operator: and
            value: ''
            varType: array[file]
            variable_selector:
            - sys
            - files
          id: ddf6ba30-c72f-4f06-b783-af77419acf30
          logical_operator: and
        - case_id: 5ff411e5-2162-41de-80de-b51902a2380f
          conditions:
          - comparison_operator: contains
            id: 0beb1d49-3f80-488f-a3b5-5b5e10a29e0b
            sub_variable_condition:
              case_id: d556ca9a-6562-4a88-aa37-fb646669d02d
              conditions:
              - comparison_operator: in
                id: 6d195fa2-b71e-4bf8-8bc2-ef51fecf21d4
                key: type
                value:
                - document
                varType: string
              logical_operator: and
            value: ''
            varType: array[file]
            variable_selector:
            - sys
            - files
          id: 5ff411e5-2162-41de-80de-b51902a2380f
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 3
        type: if-else
      height: 268
      id: '1729781189640'
      position:
        x: 1246
        y: 814.5
      positionAbsolute:
        x: 1246
        y: 814.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            stop:
            - </category>
            temperature: 0.7
          mode: chat
          name: us.anthropic.claude-3-5-sonnet-20240620-v1:0
          provider: bedrock
        prompt_template:
        - id: 2f0f0390-0372-451c-ad0c-ad859b76b0af
          role: system
          text: 'è¿™æ˜¯ä¸€ä¸ªåˆ¤æ–­é—®é¢˜æ˜¯å¦éœ€è¦æœç´¢å®æ—¶ä¿¡æ¯çš„ä»»åŠ¡ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œ:


            1. ä»”ç»†åˆ†æé—®é¢˜,çœ‹çœ‹å®ƒæ˜¯å¦å¯èƒ½éšæ—¶é—´å˜åŒ–è€Œéœ€è¦æœç´¢æœ€æ–°ä¿¡æ¯ã€‚

            2. å¦‚æœé—®é¢˜ç¡®å®éœ€è¦æœç´¢å®æ—¶ä¿¡æ¯æ¥è·å–æœ€æ–°ç­”æ¡ˆ,è¯·å›ç­”"Yes"ã€‚

            3. å¦‚æœé—®é¢˜ä¸éœ€è¦æœç´¢å®æ—¶ä¿¡æ¯,å› ä¸ºç­”æ¡ˆæ˜¯æ°¸ä¹…ä¸å˜çš„,è¯·å›ç­”"No"ã€‚

            4. æŠŠä½ çš„ç­”æ¡ˆè¾“å‡ºåˆ°<category>å’Œ</category>ä¹‹é—´'
        - id: faf064e8-f465-4400-a3b7-562e1f5edaac
          role: user
          text: <question>{{#sys.query#}}</question>
        - id: 2e71437d-78cb-4e07-ab18-3bd2bcdeb4df
          role: assistant
          text: <category>
        selected: false
        title: LLM 9
        type: llm
        variables: []
        vision:
          enabled: false
      height: 96
      id: '1730860337573'
      position:
        x: 638
        y: 992
      positionAbsolute:
        x: 638
        y: 992
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 1d4748fe-7be3-4281-af82-349b2d8bda55
            value: 'Yes'
            varType: string
            variable_selector:
            - '1730860337573'
            - text
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 3
        type: if-else
      height: 124
      id: '1730860548544'
      position:
        x: 942
        y: 992
      positionAbsolute:
        x: 942
        y: 992
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        provider_id: google
        provider_name: google
        provider_type: builtin
        selected: false
        title: è°·æ­Œæœç´¢
        tool_configurations: {}
        tool_label: è°·æ­Œæœç´¢
        tool_name: google_search
        tool_parameters:
          query:
            type: mixed
            value: '{{#sys.query#}}'
        type: tool
      height: 52
      id: '1731030018613'
      position:
        x: 1555.7142857142858
        y: 286.5
      positionAbsolute:
        x: 1555.7142857142858
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        extract_by:
          enabled: false
          serial: '1'
        filter_by:
          conditions:
          - comparison_operator: <
            key: size
            value: '1'
          enabled: true
        item_var_type: file
        limit:
          enabled: false
          size: 10
        order_by:
          enabled: false
          key: ''
          value: asc
        selected: false
        title: No File
        type: list-operator
        var_type: array[file]
        variable:
        - sys
        - files
      height: 92
      id: '1731377053023'
      position:
        x: 1550
        y: 877.5
      positionAbsolute:
        x: 1550
        y: 877.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        extract_by:
          enabled: false
          serial: '1'
        filter_by:
          conditions:
          - comparison_operator: in
            key: type
            value:
            - image
          enabled: true
        item_var_type: file
        limit:
          enabled: false
          size: 10
        order_by:
          enabled: false
          key: ''
          value: asc
        selected: false
        title: Image
        type: list-operator
        var_type: array[file]
        variable:
        - sys
        - files
      height: 92
      id: '1731377116920'
      position:
        x: 1544.7896063058697
        y: 1018.5
      positionAbsolute:
        x: 1544.7896063058697
        y: 1018.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        extract_by:
          enabled: true
          serial: '1'
        filter_by:
          conditions:
          - comparison_operator: in
            key: type
            value:
            - document
          enabled: true
        item_var_type: file
        limit:
          enabled: false
          size: 2
        order_by:
          enabled: false
          key: ''
          value: asc
        selected: false
        title: Doc
        type: list-operator
        var_type: array[file]
        variable:
        - sys
        - files
      height: 92
      id: '1731377168392'
      position:
        x: 1544.7896063058697
        y: 1163.761316338092
      positionAbsolute:
        x: 1544.7896063058697
        y: 1163.761316338092
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    viewport:
      x: 23.29870050654813
      y: 254.79112021695698
      zoom: 0.5506812666085218
